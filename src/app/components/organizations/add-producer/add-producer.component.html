<div class="container">
    <div class="mt-5">
        <div class="col-12 col-md-8 col-lg-6 mx-auto">
            <h1 i18n>Add a new producer of my goods:</h1>

            <form #form="ngForm" (ngSubmit)="onFormSubmit()">
                <div class="mt-5 col-12">
                    <span class="p-float-label">
                        <input pInputText id="name" name="name" [(ngModel)]="model.name" class="col-12" required
                            minlength="2" #nameField="ngModel" />
                        <label htmlFor="name" i18n>Name</label>
                    </span>

                    <div *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)">
                        <div *ngIf="nameField?.errors?.['required']" class="alert alert-danger col-12" i18n>
                            Name is required.
                        </div>
                        <div *ngIf="nameField?.errors?.['minlength']" class="alert alert-danger col-12" i18n>
                            Name must be at least 2 characters long.
                        </div>
                    </div>
                </div>

                <div class="mt-3 col-12">
                    <span class="p-float-label">
                        <input pInputText id="producerCountry" name="producerCountry" [(ngModel)]="model.producerCountry" class="col-12" required
                            minlength="2" #producerCountryField="ngModel" />
                        <label htmlFor="producerCountry" i18n>Producer Country</label>
                    </span>

                    <div *ngIf="producerCountryField.invalid && (producerCountryField.dirty || producerCountryField.touched)">
                        <div *ngIf="producerCountryField?.errors?.['required']" class="alert alert-danger col-12" i18n>
                           Country is required.
                        </div>
                        <div *ngIf="producerCountryField?.errors?.['minlength']" class="alert alert-danger col-12" i18n>
                            Country name must be at least 2 characters long.
                        </div>
                    </div>
                </div>

                <div class="mt-3 col-12">
                    <span class="p-float-label">
                        <textarea id="description" name="description" rows="5" [(ngModel)]="model.description"
                            class="col-12" pInputTextarea #descriptionField="ngModel" maxlength="200"></textarea>
                        <label for="description" i18n>Company description</label>
                    </span>

                    <div *ngIf="descriptionField.invalid &&
                (descriptionField.dirty || descriptionField.touched)">
                        <div *ngIf="descriptionField?.errors?.['maxlength']" class="alert alert-danger col-12" i18n>
                            Description maximum size is 200 characters.
                        </div>
                    </div>
                </div>
                
                <div class="mt-4 flex-column align-items-center">
                    <button type="submit" [disabled]="nameField.invalid ||
                                                      descriptionField.invalid ||
                                                      producerCountryField.invalid
                                                    " class="btn btn-success btn-block mt-3 btn-lg w-100" i18n>
                        Add producer company to the system
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
